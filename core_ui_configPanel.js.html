<!DOCTYPE html><html lang="en" style="font-size:16px"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="author" content="Project Team"><meta name="description" content="Integration of Matter.js and Babylon.js"><title>Source: core/ui/configPanel.js</title><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><script src="scripts/third-party/hljs.js" defer="defer"></script><script src="scripts/third-party/hljs-line-num.js" defer="defer"></script><script src="scripts/third-party/popper.js" defer="defer"></script><script src="scripts/third-party/tippy.js" defer="defer"></script><script src="scripts/third-party/tocbot.min.js"></script><script>var baseURL="/",locationPathname="";baseURL=(locationPathname=document.location.pathname).substr(0,locationPathname.lastIndexOf("/")+1)</script><link rel="stylesheet" href="styles/clean-jsdoc-theme.min.css"><svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><defs><symbol id="copy-icon" viewbox="0 0 488.3 488.3"><g><path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/><path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/></g></symbol><symbol id="search-icon" viewBox="0 0 512 512"><g><g><path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z"/></g></g><g><g><path d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"/></g></g></symbol><symbol id="font-size-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></symbol><symbol id="add-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></symbol><symbol id="minus-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z"/></symbol><symbol id="dark-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol><symbol id="light-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol><symbol id="reset-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></symbol><symbol id="down-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path></symbol><symbol id="codepen-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.5 13.202L13 15.535v3.596L19.197 15 16.5 13.202zM14.697 12L12 10.202 9.303 12 12 13.798 14.697 12zM20 10.869L18.303 12 20 13.131V10.87zM19.197 9L13 4.869v3.596l3.5 2.333L19.197 9zM7.5 10.798L11 8.465V4.869L4.803 9 7.5 10.798zM4.803 15L11 19.131v-3.596l-3.5-2.333L4.803 15zM4 13.131L5.697 12 4 10.869v2.262zM2 9a1 1 0 0 1 .445-.832l9-6a1 1 0 0 1 1.11 0l9 6A1 1 0 0 1 22 9v6a1 1 0 0 1-.445.832l-9 6a1 1 0 0 1-1.11 0l-9-6A1 1 0 0 1 2 15V9z"/></symbol><symbol id="close-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></symbol><symbol id="menu-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></symbol></defs></svg></head><body data-theme="dark"><div class="sidebar-container"><div class="sidebar" id="sidebar"><a href="/" class="sidebar-title sidebar-title-anchor">Matter.js + Babylon.js Integration</a><div class="sidebar-items-container"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-modules"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-core_historyManager.html">core/historyManager</a></div><div class="sidebar-section-children"><a href="module-core_interactionManager.html">core/interactionManager</a></div><div class="sidebar-section-children"><a href="module-core_interactions_configManager.html">core/interactions/configManager</a></div><div class="sidebar-section-children"><a href="module-core_interactions_dragManager.html">core/interactions/dragManager</a></div><div class="sidebar-section-children"><a href="module-core_interactions_inputManager.html">core/interactions/inputManager</a></div><div class="sidebar-section-children"><a href="module-core_interactions_placementManager.html">core/interactions/placementManager</a></div><div class="sidebar-section-children"><a href="module-core_interactions_pointerManager.html">core/interactions/pointerManager</a></div><div class="sidebar-section-children"><a href="module-core_physicsManager.html">core/physicsManager</a></div><div class="sidebar-section-children"><a href="module-core_postProcess_bloom.html">core/postProcess/bloom</a></div><div class="sidebar-section-children"><a href="module-core_sceneManager.html">core/sceneManager</a></div><div class="sidebar-section-children"><a href="module-core_simulation.html">core/simulation</a></div><div class="sidebar-section-children"><a href="module-core_soundManager.html">core/soundManager</a></div><div class="sidebar-section-children"><a href="module-core_ui_briefingPanel.html">core/ui/briefingPanel</a></div><div class="sidebar-section-children"><a href="module-core_ui_configPanel.html">core/ui/configPanel</a></div><div class="sidebar-section-children"><a href="module-core_ui_hintPanel.html">core/ui/hintPanel</a></div><div class="sidebar-section-children"><a href="module-core_ui_inventoryPanel.html">core/ui/inventoryPanel</a></div><div class="sidebar-section-children"><a href="module-core_ui_menuBar.html">core/ui/menuBar</a></div><div class="sidebar-section-children"><a href="module-core_ui_objectPreview.html">core/ui/objectPreview</a></div><div class="sidebar-section-children"><a href="module-core_ui_objectivesPanel.html">core/ui/objectivesPanel</a></div><div class="sidebar-section-children"><a href="module-core_ui_trashCan.html">core/ui/trashCan</a></div><div class="sidebar-section-children"><a href="module-core_ui_uiCore.html">core/ui/uiCore</a></div><div class="sidebar-section-children"><a href="module-core_uiManager.html">core/uiManager</a></div><div class="sidebar-section-children"><a href="module-index.html">index</a></div><div class="sidebar-section-children"><a href="module-musicPlayer.html">musicPlayer</a></div><div class="sidebar-section-children"><a href="module-utils_configLoader.html">utils/configLoader</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-classes"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="Condition.html">Condition</a></div><div class="sidebar-section-children"><a href="Condition_Condition.html">Condition</a></div><div class="sidebar-section-children"><a href="LeaveZoneEndCondition.html">LeaveZoneEndCondition</a></div><div class="sidebar-section-children"><a href="LeaveZoneEndCondition_Condition.html">Condition</a></div><div class="sidebar-section-children"><a href="LeaveZoneObjective.html">LeaveZoneObjective</a></div><div class="sidebar-section-children"><a href="LeaveZoneObjective_Objective.html">Objective</a></div><div class="sidebar-section-children"><a href="MaxHeightEndCondition.html">MaxHeightEndCondition</a></div><div class="sidebar-section-children"><a href="MaxHeightEndCondition_Condition.html">Condition</a></div><div class="sidebar-section-children"><a href="MaxHeightEndCondition_MaxHeightEndCondition.html">MaxHeightEndCondition</a></div><div class="sidebar-section-children"><a href="MaxHeightObjective.html">MaxHeightObjective</a></div><div class="sidebar-section-children"><a href="MaxHeightObjective_MaxHeightObjective.html">MaxHeightObjective</a></div><div class="sidebar-section-children"><a href="MaxHeightObjective_Objective.html">Objective</a></div><div class="sidebar-section-children"><a href="MinHeightObjective.html">MinHeightObjective</a></div><div class="sidebar-section-children"><a href="MinHeightObjective_MinHeightObjective.html">MinHeightObjective</a></div><div class="sidebar-section-children"><a href="MinHeightObjective_Objective.html">Objective</a></div><div class="sidebar-section-children"><a href="Objective.html">Objective</a></div><div class="sidebar-section-children"><a href="Objective_Objective.html">Objective</a></div><div class="sidebar-section-children"><a href="StayInZoneEndCondition.html">StayInZoneEndCondition</a></div><div class="sidebar-section-children"><a href="StayInZoneEndCondition_Condition.html">Condition</a></div><div class="sidebar-section-children"><a href="StayInZoneEndCondition_StayInZoneEndCondition.html">StayInZoneEndCondition</a></div><div class="sidebar-section-children"><a href="StayInZoneObjective.html">StayInZoneObjective</a></div><div class="sidebar-section-children"><a href="StayInZoneObjective_Objective.html">Objective</a></div><div class="sidebar-section-children"><a href="StayInZoneObjective_StayInZoneObjective.html">StayInZoneObjective</a></div><div class="sidebar-section-children"><a href="TimeLimitCondition.html">TimeLimitCondition</a></div><div class="sidebar-section-children"><a href="TimeLimitCondition_Condition.html">Condition</a></div><div class="sidebar-section-children"><a href="TimeLimitCondition_TimeLimitCondition.html">TimeLimitCondition</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-global"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#createEndMenu">createEndMenu</a></div><div class="sidebar-section-children"><a href="global.html#createLevelSelectMenu">createLevelSelectMenu</a></div><div class="sidebar-section-children"><a href="global.html#createMainMenu">createMainMenu</a></div><div class="sidebar-section-children"><a href="global.html#disposeEndMenu">disposeEndMenu</a></div><div class="sidebar-section-children"><a href="global.html#hideEndMenu">hideEndMenu</a></div><div class="sidebar-section-children"><a href="global.html#hideLevelSelectMenu">hideLevelSelectMenu</a></div><div class="sidebar-section-children"><a href="global.html#hideMainMenu">hideMainMenu</a></div><div class="sidebar-section-children"><a href="global.html#showEndMenu">showEndMenu</a></div><div class="sidebar-section-children"><a href="global.html#showLevelSelectMenu">showLevelSelectMenu</a></div><div class="sidebar-section-children"><a href="global.html#showMainMenu">showMainMenu</a></div></div></div></div></div><div class="navbar-container" id="VuAckcnZhf"><nav class="navbar"><div class="navbar-left-items"><div class="navbar-item"><a id="" href="#" target="_blank">GitHub</a></div></div><div class="navbar-right-items"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div><nav></nav></nav></div><div class="toc-container"><div class="toc-content"><span class="bold">On this page</span><div id="eed4d2a0bfd64539bb9df78095dec881"></div></div></div><div class="body-wrapper"><div class="main-content"><div class="main-wrapper"><section id="source-page" class="source-page"><header><h1 id="title" class="has-anchor">core_ui_configPanel.js</h1></header><article><pre class="prettyprint source lang-js"><code>import * as BABYLON from '@babylonjs/core';
import * as GUI from '@babylonjs/gui';
import { getAdvancedTexture } from './uiCore.js';
import { clearConfigSelectionHighlight } from '../interactionManager.js';
import { initSimulation, currentScenePath } from '../simulation.js';
import { loadSceneConfig } from '../../utils/configLoader.js';

/**
 * @module core/ui/configPanel
 * @description Manages the creation and interaction of the object configuration panel.
 * This panel allows users to adjust properties like mass, friction, and restitution
 * for a selected physics object. It uses Babylon.js GUI controls.
 */

/**
 * @type {GUI.Rectangle | null}
 * @description Holds the main GUI.Rectangle container for the configuration panel.
 * Initialized to null.
 * @private
 */
let configPanel = null;

/**
 * @type {string | null}
 * @description Stores the ID of the object currently being configured.
 * Initialized to null.
 * @private
 */
let configObjectId = null;

/**
 * @type {object}
 * @description An object to store references to the GUI controls within the panel (e.g., sliders, text blocks).
 * Example: `{ massSlider: GUI.Slider, massValueText: GUI.TextBlock, ... }`
 * @private
 */
let configControls = {};

/**
 * @type {function(string, string, number): void}
 * @description Callback function to be invoked when a configuration property is updated by the user.
 * It receives the object ID, the property name (e.g., 'mass'), and the new value.
 * Defaults to a console warning if not implemented.
 * @private
 */
let onConfigUpdate = (objectId, property, value) => {};

/**
 * Creates the configuration panel GUI elements.
 * The panel is initially hidden and includes sliders and text displays for mass,
 * friction, and restitution, along with a close button.
 *
 * @param {function(string, string, number): void} configUpdateCallback - A callback function
 *        that will be invoked when a property value changes in the panel.
 *        It receives `(objectId, propertyName, newValue)`.
 */
function createConfigPanel(configUpdateCallback) {
    const advancedTexture = getAdvancedTexture();
    if (!advancedTexture) {
        return;
    }
    
    if (configPanel) {
        configPanel.dispose();
        configControls = {};
    }

    onConfigUpdate = configUpdateCallback;

    configPanel = new GUI.Rectangle("configPanel");
    configPanel.width = "300px";
    configPanel.height = "320px";
    configPanel.cornerRadius = 10;
    configPanel.color = "white";
    configPanel.thickness = 1;
    configPanel.background = "rgba(50, 50, 50, 0.8)";
    configPanel.horizontalAlignment = GUI.Control.HORIZONTAL_ALIGNMENT_RIGHT;
    configPanel.verticalAlignment = GUI.Control.VERTICAL_ALIGNMENT_CENTER;
    configPanel.paddingRight = "20px";
    configPanel.isVisible = false;
    advancedTexture.addControl(configPanel);

    const panelStack = new GUI.StackPanel("configStack");
    panelStack.width = "100%";
    panelStack.paddingTop = "10px";
    panelStack.paddingLeft = "10px";
    panelStack.paddingRight = "10px";
    panelStack.paddingBottom = "10px";
    configPanel.addControl(panelStack);

    const header = new GUI.TextBlock("configHeader", "Configure Object");
    header.height = "30px";
    header.color = "white";
    header.fontSize = 18;
    panelStack.addControl(header);

    const massPanel = new GUI.StackPanel("massPanel");
    massPanel.isVertical = false;
    massPanel.height = "40px";
    massPanel.paddingTop = "5px";
    panelStack.addControl(massPanel);

    const massLabel = new GUI.TextBlock("massLabel", "Mass:");
    massLabel.width = "80px";
    massLabel.color = "white";
    massLabel.textHorizontalAlignment = GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;
    massPanel.addControl(massLabel);

    const massSlider = new GUI.Slider("massSlider");
    massSlider.minimum = 0.1;
    massSlider.maximum = 10.0;
    massSlider.value = 1.0;
    massSlider.height = "20px";
    massSlider.width = "120px";
    massSlider.color = "yellow";
    massSlider.background = "gray";
    massPanel.addControl(massSlider);
    configControls.massSlider = massSlider;

    const massValueText = new GUI.TextBlock("massValueText", "1.00");
    massValueText.width = "50px";
    massValueText.color = "white";
    massValueText.fontSize = 14;
    massValueText.paddingLeft = "10px";
    massPanel.addControl(massValueText);
    configControls.massValueText = massValueText;

    massSlider.onValueChangedObservable.add((value) => {
        const formattedValue = value.toFixed(2);
        massValueText.text = formattedValue;
    });

    massSlider.onPointerUpObservable.add(() => {
        if (configObjectId) {
            onConfigUpdate(configObjectId, 'mass', massSlider.value);
        }
    });

    const frictionPanel = new GUI.StackPanel("frictionPanel");
    frictionPanel.isVertical = false;
    frictionPanel.height = "40px";
    frictionPanel.paddingTop = "5px";
    panelStack.addControl(frictionPanel);

    const frictionLabel = new GUI.TextBlock("frictionLabel", "Friction:");
    frictionLabel.width = "80px";
    frictionLabel.color = "white";
    frictionLabel.textHorizontalAlignment = GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;
    frictionPanel.addControl(frictionLabel);

    const frictionSlider = new GUI.Slider("frictionSlider");
    frictionSlider.minimum = 0;
    frictionSlider.maximum = 1;
    frictionSlider.value = 0.1;
    frictionSlider.height = "20px";
    frictionSlider.width = "120px";
    frictionSlider.color = "cyan";
    frictionSlider.background = "gray";
    frictionPanel.addControl(frictionSlider);
    configControls.frictionSlider = frictionSlider;

    const frictionValueText = new GUI.TextBlock("frictionValueText", "0.10");
    frictionValueText.width = "50px";
    frictionValueText.color = "white";
    frictionValueText.fontSize = 14;
    frictionValueText.paddingLeft = "10px";
    frictionPanel.addControl(frictionValueText);
    configControls.frictionValueText = frictionValueText;

    frictionSlider.onValueChangedObservable.add((value) => {
        const formattedValue = value.toFixed(2);
        frictionValueText.text = formattedValue;
    });

    frictionSlider.onPointerUpObservable.add(() => {
        if (configObjectId) {
            onConfigUpdate(configObjectId, 'friction', frictionSlider.value);
        }
    });

    const restitutionPanel = new GUI.StackPanel("restitutionPanel");
    restitutionPanel.isVertical = false;
    restitutionPanel.height = "40px";
    restitutionPanel.paddingTop = "5px";
    panelStack.addControl(restitutionPanel);

    const restitutionLabel = new GUI.TextBlock("restitutionLabel", "Restitution:");
    restitutionLabel.width = "80px";
    restitutionLabel.color = "white";
    restitutionLabel.textHorizontalAlignment = GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;
    restitutionPanel.addControl(restitutionLabel);

    const restitutionSlider = new GUI.Slider("restitutionSlider");
    restitutionSlider.minimum = 0;
    restitutionSlider.maximum = 1;
    restitutionSlider.value = 0.5;
    restitutionSlider.height = "20px";
    restitutionSlider.width = "120px";
    restitutionSlider.color = "magenta";
    restitutionSlider.background = "gray";
    restitutionPanel.addControl(restitutionSlider);
    configControls.restitutionSlider = restitutionSlider;

    const restitutionValueText = new GUI.TextBlock("restitutionValueText", "0.50");
    restitutionValueText.width = "50px";
    restitutionValueText.color = "white";
    restitutionValueText.fontSize = 14;
    restitutionValueText.paddingLeft = "10px";
    restitutionPanel.addControl(restitutionValueText);
    configControls.restitutionValueText = restitutionValueText;

    restitutionSlider.onValueChangedObservable.add((value) => {
        const formattedValue = value.toFixed(2);
        restitutionValueText.text = formattedValue;
    });

    restitutionSlider.onPointerUpObservable.add(() => {
        if (configObjectId) {
            onConfigUpdate(configObjectId, 'restitution', restitutionSlider.value);
        }
    });

    const closeButton = GUI.Button.CreateSimpleButton("closeConfigBtn", "Close");
    closeButton.width = "80px";
    closeButton.height = "30px";
    closeButton.color = "white";
    closeButton.background = "red";
    closeButton.paddingTop = "10px";
    closeButton.verticalAlignment = GUI.Control.VERTICAL_ALIGNMENT_BOTTOM;
    closeButton.onPointerClickObservable.add(() => {
        hideConfigPanel();
    });
    panelStack.addControl(closeButton);

    console.log("Configuration panel created.");
}

/**
 * Shows the configuration panel and populates it with the properties of the selected object.
 * It adjusts the min/max values of the sliders based on the provided `limits` or defaults.
 * The current values of the object's properties are set on the sliders.
 *
 * @param {string} objectId - The ID of the object to be configured.
 * @param {object} properties - An object containing the current properties of the object
 *                              (e.g., `{ mass: number, friction: number, restitution: number }`).
 * @param {object} [limits={}] - Optional limits for the properties. If not provided, default limits are used.
 *                               Expected format: `{ mass: {min, max}, friction: {min, max}, restitution: {min, max} }`.
 */
function showConfigPanel(objectId, properties, limits = {}) {
    if (!configPanel) {
        console.error("Cannot show config panel: Panel not created.");
        return;
    }
    configObjectId = objectId;

    const defaultLimits = {
        mass: { min: 0.1, max: 10.0 },
        friction: { min: 0.0, max: 1.0 },
        restitution: { min: 0.0, max: 1.0 }
    };

    const massLimits = limits?.mass ?? defaultLimits.mass;
    const frictionLimits = limits?.friction ?? defaultLimits.friction;
    const restitutionLimits = limits?.restitution ?? defaultLimits.restitution;

    if (configControls.massSlider) {
        configControls.massSlider.minimum = massLimits.min;
        configControls.massSlider.maximum = massLimits.max;
    }
    if (configControls.frictionSlider) {
        configControls.frictionSlider.minimum = frictionLimits.min;
        configControls.frictionSlider.maximum = frictionLimits.max;
    }
    if (configControls.restitutionSlider) {
        configControls.restitutionSlider.minimum = restitutionLimits.min;
        configControls.restitutionSlider.maximum = restitutionLimits.max;
    }

    const currentMass = properties.mass ?? defaultLimits.mass.min;
    const currentFriction = properties.friction ?? defaultLimits.friction.min;
    const currentRestitution = properties.restitution ?? defaultLimits.restitution.min;

    const clampedMass = Math.max(massLimits.min, Math.min(massLimits.max, currentMass));
    const clampedFriction = Math.max(frictionLimits.min, Math.min(frictionLimits.max, currentFriction));
    const clampedRestitution = Math.max(restitutionLimits.min, Math.min(restitutionLimits.max, currentRestitution));

    if (configControls.massSlider) {
        configControls.massSlider.value = clampedMass;
    }
    if (configControls.massValueText) {
        configControls.massValueText.text = clampedMass.toFixed(2);
    }
    if (configControls.frictionSlider) {
        configControls.frictionSlider.value = clampedFriction;
    }
    if (configControls.frictionValueText) {
        configControls.frictionValueText.text = clampedFriction.toFixed(2);
    }
    if (configControls.restitutionSlider) {
        configControls.restitutionSlider.value = clampedRestitution;
    }
    if (configControls.restitutionValueText) {
        configControls.restitutionValueText.text = clampedRestitution.toFixed(2);
    }

    configPanel.isVisible = true;
    console.log(`Showing config panel for object: ${objectId} with limits:`, limits);
}

/**
 * Hides the configuration panel.
 * Also clears the `configObjectId` and calls `clearConfigSelectionHighlight`
 * to remove any visual highlight from the configured object in the scene.
 */
function hideConfigPanel() {
    if (configPanel &amp;&amp; configPanel.isVisible) {
        configPanel.isVisible = false;
        configObjectId = null;
        clearConfigSelectionHighlight();
        console.log("Hiding config panel and clearing selection highlight.");
    }
}

export {
    createConfigPanel,
    showConfigPanel,
    hideConfigPanel
};
</code></pre></article></section></div></div></div><div class="search-container" id="PkfLWpAbet" style="display:none"><div class="wrapper" id="iCxFxjkHbP"><button class="icon-button search-close-button" id="VjLlGakifb" aria-label="close search"><svg><use xlink:href="#close-icon"></use></svg></button><div class="search-box-c"><svg><use xlink:href="#search-icon"></use></svg> <input type="text" id="vpcKVYIppa" class="search-input" placeholder="Search..." autofocus></div><div class="search-result-c" id="fWwVHRuDuN"><span class="search-result-c-text">Type anything to view search result</span></div></div></div><div class="mobile-menu-icon-container"><button class="icon-button" id="mobile-menu" data-isopen="false" aria-label="menu"><svg><use xlink:href="#menu-icon"></use></svg></button></div><div id="mobile-sidebar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper"><a href="/" class="sidebar-title sidebar-title-anchor">Matter.js + Babylon.js Integration</a><div class="mobile-nav-links"><div class="navbar-item"><a id="" href="#" target="_blank">GitHub</a></div></div><div class="mobile-sidebar-items-c"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-modules"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-core_historyManager.html">core/historyManager</a></div><div class="sidebar-section-children"><a href="module-core_interactionManager.html">core/interactionManager</a></div><div class="sidebar-section-children"><a href="module-core_interactions_configManager.html">core/interactions/configManager</a></div><div class="sidebar-section-children"><a href="module-core_interactions_dragManager.html">core/interactions/dragManager</a></div><div class="sidebar-section-children"><a href="module-core_interactions_inputManager.html">core/interactions/inputManager</a></div><div class="sidebar-section-children"><a href="module-core_interactions_placementManager.html">core/interactions/placementManager</a></div><div class="sidebar-section-children"><a href="module-core_interactions_pointerManager.html">core/interactions/pointerManager</a></div><div class="sidebar-section-children"><a href="module-core_physicsManager.html">core/physicsManager</a></div><div class="sidebar-section-children"><a href="module-core_postProcess_bloom.html">core/postProcess/bloom</a></div><div class="sidebar-section-children"><a href="module-core_sceneManager.html">core/sceneManager</a></div><div class="sidebar-section-children"><a href="module-core_simulation.html">core/simulation</a></div><div class="sidebar-section-children"><a href="module-core_soundManager.html">core/soundManager</a></div><div class="sidebar-section-children"><a href="module-core_ui_briefingPanel.html">core/ui/briefingPanel</a></div><div class="sidebar-section-children"><a href="module-core_ui_configPanel.html">core/ui/configPanel</a></div><div class="sidebar-section-children"><a href="module-core_ui_hintPanel.html">core/ui/hintPanel</a></div><div class="sidebar-section-children"><a href="module-core_ui_inventoryPanel.html">core/ui/inventoryPanel</a></div><div class="sidebar-section-children"><a href="module-core_ui_menuBar.html">core/ui/menuBar</a></div><div class="sidebar-section-children"><a href="module-core_ui_objectPreview.html">core/ui/objectPreview</a></div><div class="sidebar-section-children"><a href="module-core_ui_objectivesPanel.html">core/ui/objectivesPanel</a></div><div class="sidebar-section-children"><a href="module-core_ui_trashCan.html">core/ui/trashCan</a></div><div class="sidebar-section-children"><a href="module-core_ui_uiCore.html">core/ui/uiCore</a></div><div class="sidebar-section-children"><a href="module-core_uiManager.html">core/uiManager</a></div><div class="sidebar-section-children"><a href="module-index.html">index</a></div><div class="sidebar-section-children"><a href="module-musicPlayer.html">musicPlayer</a></div><div class="sidebar-section-children"><a href="module-utils_configLoader.html">utils/configLoader</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-classes"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="Condition.html">Condition</a></div><div class="sidebar-section-children"><a href="Condition_Condition.html">Condition</a></div><div class="sidebar-section-children"><a href="LeaveZoneEndCondition.html">LeaveZoneEndCondition</a></div><div class="sidebar-section-children"><a href="LeaveZoneEndCondition_Condition.html">Condition</a></div><div class="sidebar-section-children"><a href="LeaveZoneObjective.html">LeaveZoneObjective</a></div><div class="sidebar-section-children"><a href="LeaveZoneObjective_Objective.html">Objective</a></div><div class="sidebar-section-children"><a href="MaxHeightEndCondition.html">MaxHeightEndCondition</a></div><div class="sidebar-section-children"><a href="MaxHeightEndCondition_Condition.html">Condition</a></div><div class="sidebar-section-children"><a href="MaxHeightEndCondition_MaxHeightEndCondition.html">MaxHeightEndCondition</a></div><div class="sidebar-section-children"><a href="MaxHeightObjective.html">MaxHeightObjective</a></div><div class="sidebar-section-children"><a href="MaxHeightObjective_MaxHeightObjective.html">MaxHeightObjective</a></div><div class="sidebar-section-children"><a href="MaxHeightObjective_Objective.html">Objective</a></div><div class="sidebar-section-children"><a href="MinHeightObjective.html">MinHeightObjective</a></div><div class="sidebar-section-children"><a href="MinHeightObjective_MinHeightObjective.html">MinHeightObjective</a></div><div class="sidebar-section-children"><a href="MinHeightObjective_Objective.html">Objective</a></div><div class="sidebar-section-children"><a href="Objective.html">Objective</a></div><div class="sidebar-section-children"><a href="Objective_Objective.html">Objective</a></div><div class="sidebar-section-children"><a href="StayInZoneEndCondition.html">StayInZoneEndCondition</a></div><div class="sidebar-section-children"><a href="StayInZoneEndCondition_Condition.html">Condition</a></div><div class="sidebar-section-children"><a href="StayInZoneEndCondition_StayInZoneEndCondition.html">StayInZoneEndCondition</a></div><div class="sidebar-section-children"><a href="StayInZoneObjective.html">StayInZoneObjective</a></div><div class="sidebar-section-children"><a href="StayInZoneObjective_Objective.html">Objective</a></div><div class="sidebar-section-children"><a href="StayInZoneObjective_StayInZoneObjective.html">StayInZoneObjective</a></div><div class="sidebar-section-children"><a href="TimeLimitCondition.html">TimeLimitCondition</a></div><div class="sidebar-section-children"><a href="TimeLimitCondition_Condition.html">Condition</a></div><div class="sidebar-section-children"><a href="TimeLimitCondition_TimeLimitCondition.html">TimeLimitCondition</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-global"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#createEndMenu">createEndMenu</a></div><div class="sidebar-section-children"><a href="global.html#createLevelSelectMenu">createLevelSelectMenu</a></div><div class="sidebar-section-children"><a href="global.html#createMainMenu">createMainMenu</a></div><div class="sidebar-section-children"><a href="global.html#disposeEndMenu">disposeEndMenu</a></div><div class="sidebar-section-children"><a href="global.html#hideEndMenu">hideEndMenu</a></div><div class="sidebar-section-children"><a href="global.html#hideLevelSelectMenu">hideLevelSelectMenu</a></div><div class="sidebar-section-children"><a href="global.html#hideMainMenu">hideMainMenu</a></div><div class="sidebar-section-children"><a href="global.html#showEndMenu">showEndMenu</a></div><div class="sidebar-section-children"><a href="global.html#showLevelSelectMenu">showLevelSelectMenu</a></div><div class="sidebar-section-children"><a href="global.html#showMainMenu">showMainMenu</a></div></div></div><div class="mobile-navbar-actions"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div></div></div><script type="text/javascript" src="scripts/core.min.js"></script><script src="scripts/search.min.js" defer="defer"></script><script src="scripts/third-party/fuse.js" defer="defer"></script><script type="text/javascript">var tocbotInstance=tocbot.init({tocSelector:"#eed4d2a0bfd64539bb9df78095dec881",contentSelector:".main-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,scrollContainer:".main-content",headingsOffset:130,onClick:bringLinkToView})</script></body></html>